//Copyright (c) 2014 by Disy Informationssysteme GmbH
package net.disy.eenvplus.tfes.core.util;

import java.util.Collection;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;

// NOT_PUBLISHED

public class CollectionUtilities {

  private CollectionUtilities() {
  }

  public static <E> List<E> flatten(Collection<? extends Collection<E>> nested) {
    List<E> flat = new LinkedList<>();
    for (Collection<E> current : nested) {
      flat.addAll(current);
    }
    return flat;
  }

  public static <E> List<E> limitResults(List<E> list, int maxIndex) {
    if (maxIndex < 0) {
      throw new IllegalArgumentException("Expected non negative max index, received " + maxIndex); //$NON-NLS-1$
    }
    if (maxIndex > 0 && maxIndex <= list.size()) {
      return list.subList(0, maxIndex);
    }
    return list;
  }

  public static <E> E first(Collection<? extends E> collection, E alternative) {
    Iterator<? extends E> iterator = collection.iterator();
    if (iterator.hasNext()) {
      return iterator.next();
    }
    return alternative;
  }

}
