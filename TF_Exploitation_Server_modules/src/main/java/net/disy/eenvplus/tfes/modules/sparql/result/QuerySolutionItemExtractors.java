//Copyright (c) 2014 by Disy Informationssysteme GmbH
package net.disy.eenvplus.tfes.modules.sparql.result;

import net.disy.eenvplus.tfes.modules.sparql.query.SparqlNodes;

import com.hp.hpl.jena.query.QuerySolution;
import com.hp.hpl.jena.rdf.model.Literal;
import com.hp.hpl.jena.rdf.model.Resource;

// NOT_PUBLISHED

public class QuerySolutionItemExtractors {

  private QuerySolutionItemExtractors() {
  }

  public static String getLabel(String key, QuerySolution querySolution) {
    if (key == null) {
      return null;
    }
    Literal literal = querySolution.getLiteral(key);
    return literal != null ? literal.getString() : null;
  }

  public static String getLabel(SparqlNodes node, QuerySolution querySolution) {
    return getLabel(node.getName(), querySolution);
  }

  public static String getLanguage(String key, QuerySolution querySolution) {
    if (key == null) {
      return null;
    }
    Literal literal = querySolution.getLiteral(key);
    return literal != null ? literal.getLanguage() : null;
  }

  public static String getLanguage(SparqlNodes node, QuerySolution querySolution) {
    return getLanguage(node.getName(), querySolution);
  }

  public static String getUri(String key, QuerySolution querySolution) {
    if (key == null) {
      return null;
    }
    Resource resource = querySolution.getResource(key);
    return resource != null ? resource.getURI() : null;
  }

  public static String getUri(SparqlNodes node, QuerySolution querySolution) {
    return getUri(node.getName(), querySolution);
  }

  public static Double getDouble(String label, QuerySolution querySolution) {
    Literal literal = querySolution.getLiteral(label);
    return literal != null ? literal.getDouble() : null;
  }

  public static Double getDouble(SparqlNodes node, QuerySolution querySolution) {
    return getDouble(node.getName(), querySolution);
  }

}
